<div class="card shadow-sm">
  <div class="card-body">
    <h4 class="card-title mb-4">Payment Method</h4>
    
    <%= form_with url: checkout_update_step_path, method: :patch, local: true do |f| %>
      <%= hidden_field_tag :step, 'payment' %>
      
      <div class="mb-3">
        <div class="form-check mb-3 border rounded p-3">
          <%= radio_button_tag :payment_method, "cash_on_delivery", @payment_method == "cash_on_delivery", 
              class: "form-check-input", 
              id: "payment_cod",
              required: true %>
          <%= label_tag :payment_method_cash_on_delivery, class: "form-check-label w-100" do %>
            <strong>Cash on Delivery</strong>
            <br>
            <small class="text-muted">Pay with cash when your order is delivered</small>
          <% end %>
        </div>
        
        <div class="form-check mb-3 border rounded p-3">
          <%= radio_button_tag :payment_method, "credit_card", @payment_method == "credit_card", 
              class: "form-check-input", 
              id: "payment_cc" %>
          <%= label_tag :payment_method_credit_card, class: "form-check-label w-100" do %>
            <strong>Credit/Debit Card</strong>
            <br>
            <small class="text-muted">Pay securely with your card</small>
          <% end %>
        </div>
      </div>
      
      <div class="d-flex justify-content-between">
        <%= link_to "Back", checkout_path(step: 'address'), class: "btn btn-outline-secondary" %>
        <%= submit_tag "Continue to Review", class: "btn btn-warning" %>
      </div>
    <% end %>
  </div>
</div>
